var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,h,g){c!=Array.prototype&&c!=Object.prototype&&(c[h]=g.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var h=0;return $jscomp.iteratorPrototype(function(){return h<c.length?{done:!1,value:c[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var h=c[Symbol.iterator];return h?h.call(c):$jscomp.arrayIterator(c)};
$jscomp.polyfill=function(c,h,g,a){if(h){g=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var b=c[a];b in g||(g[b]={});g=g[b]}c=c[c.length-1];a=g[c];h=h(a);h!=a&&null!=h&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:h})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function h(){this.batch_=null}function g(a){return a instanceof b?a:new b(function(b,d){b(a)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;h.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};h.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var a=$jscomp.global.setTimeout;h.prototype.asyncExecuteFunction=function(b){a(b,
0)};h.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var e=a[b];delete a[b];try{e()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};h.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var b=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(n){b.reject(n)}};b.prototype.createResolveAndReject_=
function(){function a(a){return function(f){e||(e=!0,a.call(b,f))}}var b=this,e=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var f=null!=a;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(n){this.reject_(n);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var e=new h;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var f=this.createResolveAndReject_();try{a.call(b,f.resolve,f.reject)}catch(p){f.reject(p)}};b.prototype.then=function(a,f){function e(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(k){g(k)}}:b}var d,g,h=new b(function(a,
b){d=a;g=b});this.callWhenSettled_(e(a,d),e(f,g));return h};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function f(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?e.asyncExecute(f):this.onSettledCallbacks_.push(function(){e.asyncExecute(f)})};b.resolve=g;b.reject=function(a){return new b(function(b,e){e(a)})};b.race=function(a){return new b(function(b,
e){for(var f=$jscomp.makeIterator(a),d=f.next();!d.done;d=f.next())g(d.value).callWhenSettled_(b,e)})};b.all=function(a){var f=$jscomp.makeIterator(a),e=f.next();return e.done?g([]):new b(function(a,b){function d(b){return function(f){h[b]=f;q--;0==q&&a(h)}}var h=[],q=0;do h.push(void 0),q++,g(e.value).callWhenSettled_(d(h.length-1),b),e=f.next();while(!e.done)})};return b},"es6","es3");
$jscomp.findInternal=function(c,h,g){c instanceof String&&(c=String(c));for(var a=c.length,b=0;b<a;b++){var e=c[b];if(h.call(g,e,b,c))return{i:b,v:e}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.findIndex",function(c){return c?c:function(h,g){return $jscomp.findInternal(this,h,g).i}},"es6","es3");
define("util",[],function(){function c(a,b,e,d,f){if(e==d)return b[e]==a?e:-1;if(e>d)return-1;var h=e+Math.floor((d-e+1)/2),g=b[h];return g==a?h:g>a?f?c(a,b,h+1,d):c(a,b,e,h-1):f?c(a,b,e,h-1):c(a,b,h+1,d)}function h(a,b,e,d,f,g){if(d==f)return e[d][a]==b?d:-1;if(d>f)return-1;var c=d+Math.floor((f-d+1)/2);var n=e[c][a];return n==b?c:n>b?g?h(a,b,e,c+1,f):h(a,b,e,d,c-1):g?h(a,b,e,d,c-1):h(a,b,e,c+1,f)}var g={DATE_DAY:864E5,DATE_HOUR:36E5,env:function(){var a={},b=navigator.userAgent.toLowerCase();/android/.test(b)?
a.os="android":/iphone|ipod|ipad|ios/.test(b)?a.os="ios":/windows/.test(b)&&(a.os="windows");a.iswxwork=/wxwork/.test(b);a.inwx=/micromessenger/.test(b);return a},language:function(){var a=this.getCookie("lang");a||(a=navigator.language||navigator.userLanguage);return a.replace("_","-").toLowerCase()},getRouterParam:function(a){var b=window.location.pathname.split("/");a=b.length-1-a;return 0>a?null:b[a]},num2str:function(a,b){if(!a)return"";"string"==typeof a&&(a=parseFloat(a));var e=!1;if(0>b){var d=
a.toString();e=a.toString().split(".");if(1==e.length)return d;b=-b;e=!0}else if(0==b)return a.toFixed(b);d=Math.pow(10,b);a=(Math.round(a*d)/d).toFixed(b);if(!e)return a;b=a.length;e=Array(b);for(d=0;d<b;d++)e[d]=a[d];for(a=b-1;-1<a&&"0"==e[a];a--)e.pop();return e.join("")},timeAgoStr:function(a,b,e){e||(e=2);a=this.timeAgo(a,b);b="";var d=!0,f,h=0;for(f=a.length-1;-1<f;f--)if(!d||0!=a[f].value)if(d=!1,b+=a[f].value+a[f].label+" ",h++,h==e)break;return b},timeAgo:function(a,b){a="number"==typeof a&&
"undefined"==typeof b?a:Math.abs(b.getTime()-a.getTime());b=[];for(var e=0;6>e;e++){switch(e){case 0:var d=a%6E4;b.push({value:Math.floor(d/1E3),label:"\u79d2",ext:"s"});a=Math.floor(a/6E4);break;case 1:d=a%60;b.push({value:d,label:"\u5206",ext:"m"});a=Math.floor(a/60);break;case 2:d=a%24;b.push({value:d,label:"\u5c0f\u65f6",ext:"h"});a=Math.floor(a/24);break;case 3:d=a%30;b.push({value:d,label:"\u5929",ext:"d"});a=Math.floor(a/30);break;case 4:d=a%12;b.push({value:d,label:"\u6708",ext:"n"});a=Math.floor(a/
12);break;case 5:b.push({value:d,label:"\u5e74",ext:"y"})}if(0>Math.floor(a))break}return b},str2date:function(a){if(a){if("string"!=typeof a)return a;a=a.replace(/[A-Za-z\u65e5]/g," ").substr(0,19);a=a.replace(/[\u5e74\u6708]/g,"-");var b=new Date(Date.parse(a));return!b||isNaN(b.getFullYear())?(a=a.replace(/[-]/g,"/"),new Date(Date.parse(a))):b}},date2str:function(a,b){if(!a)return"";b=b?b:"date";switch(typeof a){case "number":a=new Date(a);break;case "string":a=this.str2date(a)}switch(b){case "date":return a.getFullYear()+
"-"+this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2);case "date2":return this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2);case "dateCH":return a.getFullYear()+"\u5e74"+this.lpad(a.getMonth()+1,"0",2)+"\u6708"+this.lpad(a.getDate(),"0",2)+"\u65e5";case "date2CH":return this.lpad(a.getMonth()+1,"0",2)+"\u6708"+this.lpad(a.getDate(),"0",2)+"\u65e5";case "datetime":return a.getFullYear()+"-"+this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2)+" "+this.lpad(a.getHours(),
"0",2)+":"+this.lpad(a.getMinutes(),"0",2);case "time":return this.lpad(a.getHours(),"0",2)+":"+this.lpad(a.getMinutes(),"0",2)}return"unknow"},lpad:function(a,b,e){for("string"!=typeof a&&(a=a.toString());a.toString().length<e;)a=b+a;return a},rpad:function(a,b,e){for("string"!=typeof a&&(a=a.toString());a.toString().length<e;)a+=b;return a},tisvo:function(a){a=window.atob(a);for(var b=a.length,e="",d=0;d<b;d++)e+=String.fromCharCode(a.charCodeAt(d)^(d%7<<4)+d%15);return window.atob(e)},find:function(a,
b,e){if(!e)return null;var d,f=e.length;for(d=0;d<f;d++)if(e[d]&&e[d][a]==b)return e[d];return null},indexOfSortedI:function(a,b){if(!b)return-1;var e=!1;1<b.length&&(e=b[0]>b[1]);return c(a,b,0,b.length-1,e)},findSortedI:function(a,b,e){if(!e)return-1;var d=!1;1<e.length&&(d=e[0][a]>e[1][a]);return h(a,b,e,0,e.length-1,d)},findSorted:function(a,b,e){if(!e)return null;var d=!1;1<e.length&&(d=e[0][a]>e[1][a]);a=h(a,b,e,0,e.length-1,d);return 0>a?null:e[a]},findIndex:function(a,b,e){if(!e)return-1;
var d,f=e.length;for(d=0;d<f;d++)if(e[d]&&e[d][a]==b)return d;return-1},arrMix:function(a,b,e){for(var d=[],f=0;f<b.length;f++)for(var h=0;h<a.length;h++)-1===d.indexOf(h)&&e(h,f)&&d.push(h)},inArray:function(a,b){for(var e in b)if(b[e]==a)return!0;return!1},setCookie:function(a,b,e){var d="";e&&(d=new Date,d.setTime(d.getTime()+864E5*e),d="; expires="+d.toGMTString());document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+d+"; path=/"},hasCookie:function(a){return(new RegExp("(?:^|;\\s*)"+
encodeURIComponent(a).replace(/[-.+*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},getCookie:function(a){a+="=";for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var d=b[e];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return b=d.substring(a.length,d.length),'"'==b[0]?b.substring(1,b.length-1):d.substring(a.length,d.length)}return""},deleteCookie:function(a){g.SetCookie(a,"",-1)},copy:function(a){var b={};"object"==typeof a&&a.hasOwnProperty("length")&&(b=Array(a.length));
for(var e in a)a.hasOwnProperty(e)&&"__"!=e.substr(0,2)&&(b[e]=null==a[e]?null:"object"==typeof a[e]?g.copy(a[e]):a[e]);return b},dasit:function(a){a=window.btoa(a);for(var b=a.length,e="",d=0;d<b;d++)e+=String.fromCharCode(a.charCodeAt(d)^(d%7<<4)+d%15);return window.btoa(e)},$:{get:function(a){return"string"===typeof a?document.querySelector(a):a},getAll:function(a){return"string"===typeof a?document.querySelectorAll(a):a.length?a:[a]},each:function(a,b){a=this.getAll(a);if(0<a.length)for(var e=
0;e<a.length;e++)b(a[e],e);else return b(a,-1)},addClass:function(a,b){var e=this;this.each(a,function(a){e.hasClass(a,b)||(a.className=0==a.className.length?b:a.className+(" "+b))})},hasClass:function(a,b){var e=!1;this.each(a,function(a){if(!a.className)return!1;a=a.className.split(" ");for(var f=0;f<a.length;f++)if(a[f]==b){e=!0;break}});return e},removeClass:function(a,b){this.each(a,function(a){if(a.className){for(var e=a.className.split(" "),f=0;f<e.length;f++)e[f]==b&&e.splice(f,1);a.className=
e.join(" ")}})},show:function(a){if(this.hasClass(a,"hide")&&(this.removeClass(a,"hide"),this.hasClass(a,"fade"))){var b=this;setTimeout(function(){b.addClass(a,"in")},50)}"none"==a.style.display&&(a.style.display="")},hide:function(a){if(this.hasClass(a,"fade")){this.removeClass(a,"in");var b=this;setTimeout(function(){b.addClass(a,"hide")},200)}else this.addClass(a,"hide")}},tool:{pageErr:function(a,b){g.$.each(document.body.children,function(a){"SCRIPT"!=a.tagName&&(a.hidden=!0)});var e=document.createElement("DIV");
e.id="pageError";e.className="page-not-found-div";e.innerHTML="<h1>"+a+"</h1><h5>"+b+"</h5>";document.body.appendChild(e);a=document.createElement("style");a.type="text/css";a.innerHTML='html,body{height: 100%;margin: 0;padding: 0}\n.page-not-found-div{line-height:4rem;text-align: center;margin: 0 auto;position: absolute;top: 36%;width: 100%}\n.page-not-found-div h1{font-size: 82px}.page-not-found-div h5{font-weight: 200;font-size: 26px;}\nbody{font-family: "Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","\u5fae\u8f6f\u96c5\u9ed1",Arial,sans-serif; color: #343434; }';
document.getElementsByTagName("HEAD").item(0).appendChild(a)},showLoading:function(a){this.loading(0,a)},showSuccess:function(a){this.loading(1,a)},loading:function(a,b){var e=g.$.get("#toast");e||(e=document.createElement("DIV"),e.id="toast",e.className="weui-toast hide",e.innerHTML='<div class="weui-mask"></div><div class="weui-toast">\n  <i class="toast-success weui-icon-success-no-circle weui-icon_toast hide"></i>\n  <p class="toast-success weui-toast__content hide">\u5df2\u5b8c\u6210</p>\n  <i class="toast-loading weui-loading weui-icon_toast hide"></i>\n  <p class="toast-loading weui-toast__content hide">\u6570\u636e\u52a0\u8f7d\u4e2d</p>\n</div>',
document.body.appendChild(e));g.$.show(e);a?(g.$.each(e.querySelector(".toast-loading"),function(a){g.$.hide(a)}),g.$.each(e.querySelector(".toast-success"),function(a){g.$.show(a)})):(g.$.each(e.querySelector(".toast-success"),function(a){g.$.hide(a)}),g.$.each(e.querySelector(".toast-loading"),function(a){g.$.show(a)}));setTimeout(function(){1==a?g.$.each(e.querySelector(".toast-success"),function(a){g.$.hide(a)}):g.$.each(e.querySelector(".toast-loading"),function(a){g.$.hide(a)});g.$.hide(e)},
1E3*(b||1))},hideToast:function(){var a=g.$.get("#toast");g.$.each(a.querySelector(".toast-success"),function(a){g.$.hide(a)});g.$.each(a.querySelector(".toast-loading"),function(a){g.$.hide(a)});g.$.hide(a)},showBusy:function(a,b){a=g.$.get(a);var e=a.querySelector("div.el-loading-mask");e||(e=document.createElement("DIV"),e.className="el-loading-mask",e.innerHTML='<div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg></div>',
a.appendChild(e));g.$.show(e);setTimeout(function(){g.$.hide(e)},1E3*(b||3))},hideBusy:function(a){a=g.$.get(a);(a=a.querySelector("div.el-loading-mask"))&&g.$.hide(a)},viewImage:function(a){var b=g.$.get("#viewImage");b||(b=document.createElement("DIV"),b.id="viewImage",b.className="fade hide",b.innerHTML='<div style="z-index:1000;position:fixed;width:100%;height:100%;top:0;left:0;text-align:center;top:0;left:0;"><div style="width:100%;height:100%;background: #000;opacity: 0.6;" class="view-image fade in"></div><img src="" style="z-index:1001;max-width:98%;max-height:98%;transform: translate(-50%, -50%);top:50%;position:absolute;"></div>',
document.body.appendChild(b),b.addEventListener("click",function(a){g.$.hide(b)}));b.querySelector("img").src=a;g.$.show(b)},taggle:function(a){var b=a.currentTarget;a.currentTarget?g.$.hasClass(b,"parent-pp")?b=b.parentElement.parentElement:g.$.hasClass(b,"parent-p")&&(b=b.parentElement):b=a;a=b.nextElementSibling;if(g.$.hasClass(b,"open"))return g.$.hide(a),g.$.removeClass(b,"open"),!1;g.$.show(a);g.$.addClass(b,"open");return!0}}};window.closePageLoad&&window.closePageLoad();return g});
(function(c){function h(a,b){var f=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(f>>16)<<16|f&65535}function g(a,b,f,e,g,d){a=h(h(b,a),h(e,d));return h(a<<g|a>>>32-g,f)}function a(a,b,f,e,h,d,c){return g(b&f|~b&e,a,b,h,d,c)}function b(a,b,f,e,h,d,c){return g(b&e|f&~e,a,b,h,d,c)}function e(a,b,f,e,h,d,c){return g(f^(b|~e),a,b,h,d,c)}function d(f,d){f[d>>5]|=128<<d%32;f[(d+64>>>9<<4)+14]=d;var k=1732584193,c=-271733879,l=-1732584194,m=271733878;for(d=0;d<f.length;d+=16){var n=k;var p=c;var q=l;var r=m;
k=a(k,c,l,m,f[d],7,-680876936);m=a(m,k,c,l,f[d+1],12,-389564586);l=a(l,m,k,c,f[d+2],17,606105819);c=a(c,l,m,k,f[d+3],22,-1044525330);k=a(k,c,l,m,f[d+4],7,-176418897);m=a(m,k,c,l,f[d+5],12,1200080426);l=a(l,m,k,c,f[d+6],17,-1473231341);c=a(c,l,m,k,f[d+7],22,-45705983);k=a(k,c,l,m,f[d+8],7,1770035416);m=a(m,k,c,l,f[d+9],12,-1958414417);l=a(l,m,k,c,f[d+10],17,-42063);c=a(c,l,m,k,f[d+11],22,-1990404162);k=a(k,c,l,m,f[d+12],7,1804603682);m=a(m,k,c,l,f[d+13],12,-40341101);l=a(l,m,k,c,f[d+14],17,-1502002290);
c=a(c,l,m,k,f[d+15],22,1236535329);k=b(k,c,l,m,f[d+1],5,-165796510);m=b(m,k,c,l,f[d+6],9,-1069501632);l=b(l,m,k,c,f[d+11],14,643717713);c=b(c,l,m,k,f[d],20,-373897302);k=b(k,c,l,m,f[d+5],5,-701558691);m=b(m,k,c,l,f[d+10],9,38016083);l=b(l,m,k,c,f[d+15],14,-660478335);c=b(c,l,m,k,f[d+4],20,-405537848);k=b(k,c,l,m,f[d+9],5,568446438);m=b(m,k,c,l,f[d+14],9,-1019803690);l=b(l,m,k,c,f[d+3],14,-187363961);c=b(c,l,m,k,f[d+8],20,1163531501);k=b(k,c,l,m,f[d+13],5,-1444681467);m=b(m,k,c,l,f[d+2],9,-51403784);
l=b(l,m,k,c,f[d+7],14,1735328473);c=b(c,l,m,k,f[d+12],20,-1926607734);k=g(c^l^m,k,c,f[d+5],4,-378558);m=g(k^c^l,m,k,f[d+8],11,-2022574463);l=g(m^k^c,l,m,f[d+11],16,1839030562);c=g(l^m^k,c,l,f[d+14],23,-35309556);k=g(c^l^m,k,c,f[d+1],4,-1530992060);m=g(k^c^l,m,k,f[d+4],11,1272893353);l=g(m^k^c,l,m,f[d+7],16,-155497632);c=g(l^m^k,c,l,f[d+10],23,-1094730640);k=g(c^l^m,k,c,f[d+13],4,681279174);m=g(k^c^l,m,k,f[d],11,-358537222);l=g(m^k^c,l,m,f[d+3],16,-722521979);c=g(l^m^k,c,l,f[d+6],23,76029189);k=g(c^
l^m,k,c,f[d+9],4,-640364487);m=g(k^c^l,m,k,f[d+12],11,-421815835);l=g(m^k^c,l,m,f[d+15],16,530742520);c=g(l^m^k,c,l,f[d+2],23,-995338651);k=e(k,c,l,m,f[d],6,-198630844);m=e(m,k,c,l,f[d+7],10,1126891415);l=e(l,m,k,c,f[d+14],15,-1416354905);c=e(c,l,m,k,f[d+5],21,-57434055);k=e(k,c,l,m,f[d+12],6,1700485571);m=e(m,k,c,l,f[d+3],10,-1894986606);l=e(l,m,k,c,f[d+10],15,-1051523);c=e(c,l,m,k,f[d+1],21,-2054922799);k=e(k,c,l,m,f[d+8],6,1873313359);m=e(m,k,c,l,f[d+15],10,-30611744);l=e(l,m,k,c,f[d+6],15,-1560198380);
c=e(c,l,m,k,f[d+13],21,1309151649);k=e(k,c,l,m,f[d+4],6,-145523070);m=e(m,k,c,l,f[d+11],10,-1120210379);l=e(l,m,k,c,f[d+2],15,718787259);c=e(c,l,m,k,f[d+9],21,-343485551);k=h(k,n);c=h(c,p);l=h(l,q);m=h(m,r)}return[k,c,l,m]}function f(a){var b,f="",d=32*a.length;for(b=0;b<d;b+=8)f+=String.fromCharCode(a[b>>5]>>>b%32&255);return f}function n(a){var b,f=[];f[(a.length>>2)-1]=void 0;for(b=0;b<f.length;b+=1)f[b]=0;var d=8*a.length;for(b=0;b<d;b+=8)f[b>>5]|=(a.charCodeAt(b/8)&255)<<b%32;return f}function p(a){return f(d(n(a),
8*a.length))}function r(a,b){var c=n(a),e=[],h=[];e[15]=h[15]=void 0;16<c.length&&(c=d(c,8*a.length));for(a=0;16>a;a+=1)e[a]=c[a]^909522486,h[a]=c[a]^1549556828;b=d(e.concat(n(b)),512+8*b.length);return f(d(h.concat(b),640))}function u(a){var b="",f;for(f=0;f<a.length;f+=1){var d=a.charCodeAt(f);b+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15)}return b}function t(a,b,f){b?f?a=r(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):(a=r(unescape(encodeURIComponent(b)),
unescape(encodeURIComponent(a))),a=u(a)):a=f?p(unescape(encodeURIComponent(a))):u(p(unescape(encodeURIComponent(a))));return a}"function"===typeof define&&define.amd?define("accto",[],function(){return t}):"object"===typeof module&&module.exports?module.exports=t:c.accto=t})(this);
define("ajax",["util","accto"],function(c,h){function g(a){var b=new XMLHttpRequest;b.open("post",a.url,a.async);b.timeout=1E3*a.timeout;b.setRequestHeader("Content-Type","application/json;charset=UTF-8");for(var f in a.headers)b.setRequestHeader(f,a.headers[f]);f=new Promise(function(a,f){b.onload=function(d){200==b.status?a(b.response):f(b.response,b.status)};b.onerror=function(a){f(b)};b.ontimeout=function(){f("timeout")}});a.data?b.send(JSON.stringify(a.data)):b.send();return f}var a={url:"/home/openapi/data",
NewClient:function(a,d){return new b(a,d)},NewUpload:function(a){return new e(a)},DataSet:function(a){this.Fields=a.fields;this.Columns=a.columns;this.Len=function(){return 0==this.Columns.length?0:this.Columns[0].length};this.FieldI=function(a){return this.Fields.indexOf(a)};this.RowAt=function(a){this.Len();for(var b={},f=0;f<this.Fields.length;f++)b[this.Fields[f]]=this.Columns[f][a];return b}},torows:function(a,b){var f=a.fields.length;if(!a||!a.columns||0==a.columns.length||0===f)return[];var d=
a.columns,c=d[0].length;if(0===c)return[];var e=Array(c),h,g=a.fields;for(a=0;a<c;a++){var k={};for(h=0;h<f;h++){var n=g[h];k[n]=b?b(h,a):d[h][a]}e[a]=k}return e},serverTime:{diff:0,set:function(a){this.diff=0<a?(new Date).getTime()-1E3*a:0},now:function(){return new Date(this.time())},time:function(){return(new Date).getTime()-this.diff},utctime:function(){var a=this.now();return a.getTime()-a.getTimezoneOffset()}},getUrlVar:function(a){for(var b=window.location.search.substring(1).split("&"),f=
0;f<b.length;f++){var d=b[f].split("=");if(d[0]==a)return decodeURI(d[1])}return null}},b=function(b){this.path=b||a.url;this.isrun=!1;this.timeout=10;this.async=!0;this.pfield="accpt";this.verField="_data_version"};b.prototype.trySetDataVer=function(a){a&&"object"==typeof a&&a[this.verField]&&(a=a[this.verField],this[this.verField]=a,window[this.verField]=a)};b.prototype.getData=function(a,b,d){var f=this;return new Promise(function(c,e){var h=a+(b?JSON.stringify(b):""),g=function(c,e){f.send(a,
b,d).then(function(a){a&&a[f.verField]&&window.localStorage.setItem(h,JSON.stringify(a));c(a)}).catch(function(a){e(a)})};if(window.localStorage){var k=window.localStorage.getItem(h);k?(k=JSON.parse(k))?(d=d||{ver:window[f.verField]},k[f.verField]!=d.ver?g(c,e):c(k)):g(c,e):g(c,e)}else g(c,e)})};b.prototype.sendEx=function(a,b,d){if(!this.isrun)return this.send(a,b,d)};b.prototype.send=function(b,d,e){var f=this,n=this;this.isrun=!0;e=e||{};e.loading&&c.tool.showLoading(this.timeout);e.disable&&c.$.each(e.disable,
function(a){a.setAttribute("disabled",!0)});e.busy&&c.$.each(e.busy,function(a){c.tool.showBusy(a,f.timeout)});var p=e.ts?e.ts:a.serverTime.utctime().toString(),q=window[this.pfield]||"",v=b+p+(d?JSON.stringify(d):"")+navigator.userAgent+p+q+window.location.hostname;return g({async:this.async,url:this.path+"/"+b,data:d,headers:{Accto:h(v),Accts:p,AccPage:q,Api:b},timeout:1E3*this.timeout}).then(function(a){n.isrun=!1;e.loading&&c.tool.hideToast();e.disable&&c.$.each(e.disable,function(a){a.removeAttribute("disabled")});
e.busy&&c.$.each(e.busy,function(a){c.tool.hideBusy(a)});if(""==a)return null;"string"==typeof a&&(a=JSON.parse(a));n.trySetDataVer(a);return a}).catch(function(a,b){n.isrun=!1;e.loading&&c.tool.hideToast();e.disable&&c.$.each(e.disable,function(a){a.removeAttribute("disabled")});e.busy&&c.$.each(e.busy,function(a){c.tool.hideBusy(a)});return Promise.reject(a)})};var e=function(a){this.path=a;this.pfield="accpt";this.verField="_data_version"};e.prototype.upload=function(b,d){var f=new XMLHttpRequest,
e=a.serverTime.utctime().toString(),c=window[this.pfield]||"";f.open("POST",this.path,!0);f.setRequestHeader("Accto",h(e+b.name+b.size+b.lastModified+b.type+navigator.userAgent+e+c+window.location.hostname));f.setRequestHeader("Accts",e);f.setRequestHeader("AccPage",c);e=new Promise(function(a,e){f.onload=function(c){if(200>f.status||300<=f.status)return e(c);a(c.currentTarget.responseText);if(d&&d.onSuccess)d.onSuccess(c.currentTarget.responseText,b)};f.onerror=function(a){e(a)}});d&&d.onProgress&&
(f.upload.onprogress=function(a){0<a.total&&(a.percent=a.loaded/a.total*100);d.onProgress(a,b)});c=new FormData;c.append("filename",d&&d.filename?d.filename:"");c.append("file",b);c.append("name",b.name);c.append("size",b.size);c.append("lastModified",b.lastModified);c.append("type",b.type);f.send(c);return e};var d=function(a){this.path=a};d.prototype.onclose=function(a){if(!this.ws)return!1;ws.close()};d.prototype.onopen=function(a){console.log("open")};d.prototype.receive=function(a,b,d){};d.prototype.error=
function(a,b){console.log(a)};d.prototype.path="";d.prototype.Connect=function(){this.conn&&(this.conn.close(),this.conn=null);var a=this,b=h(navigator.userAgent+window.location.host);b=new WebSocket("ws://"+window.location.host+this.path+"?url="+encodeURI(document.location.pathname)+"&sign="+b);b.onopen=this.onopen;b.onclose=this.onclose;b.onmessage=function(b){var f=JSON.parse(b.data);f.iserror?a.error(f.error,b):f.method&&a.receive(f.method,f.args,f.result)};this.conn=b};d.prototype.Send=function(a,
b){1==this.conn.readyState&&this.conn.send(JSON.stringify({method:a,args:b}))};a.NewWS=function(a){return new d(a)};return a});
define("tags",["util"],function(c){return{template:'<div class="gno-tagdatas">\n      <div ref="tagbox">\n        <el-tag v-for="(tag, index) in tags" closable :key="index"\n              @close="_onTagClose(index)">{{tag}}</el-tag>\n        <el-button class="button-new-tag" size="small"\n          @click="showPane($event)"><i v-if="tagstr" class="el-icon-edit"></i><i v-else class="el-icon-plus"></i></el-button>\n      </div>\n      <div ref="tagpane" class="gno-tagdatas-select hide">\n        <el-input ref="taginput" placeholder="\u8bf7\u8f93\u5165\u6807\u7b7e\uff0c\u7528\u7a7a\u683c\u5206\u9694" v-model="tagstr" size="mini"\n            v-on:keyup.native.enter="confirm">\n          <el-button @click="confirm()" slot="append" icon="el-icon-check"></el-button>\n        </el-input>\n        <strong @click="_onTagAdd(item.name)" :class="{\'el-tag--gray\': isNotExists(item.name)}" v-for="item in basetags" class="el-tag">{{ item.name }}</strong>\n      </div>\n    </div>',props:{tags:Array,
basetags:Array},model:{props:"tags",event:"cc"},watch:{tags:function(c){c&&0!=c.length&&(this.tagstr=c.join(" , "))}},data:function(){return{oval:"",tagstr:""}},methods:{isNotExists:function(c){return-1===this.tags.indexOf(c)},_onTagAdd:function(c){var h=this.tags.indexOf(c);-1==h?this.tags.push(c):this.tags.splice(h,1)},getData:function(){if(this.oval==this.tagstr)return this.tags;var c=this.tagstr;if(c&&0!=c.length)return c=c.trim().replace(/[,\uff0c\u3002\.]/g," "),c=c.replace(/\s{2,}/g," "),this.tags=
c.split(" "),this.$emit("cc",this.tags),this.tags},_onTagClose:function(c){this.tags.splice(c,1)},showPane:function(h){c.$.show(this.$refs.tagpane);c.$.hide(this.$refs.tagbox);this.oval=this.tagstr;this.$refs.taginput.focus()},confirm:function(h){c.$.hide(this.$refs.tagpane);c.$.show(this.$refs.tagbox);return this.getData()}}}});
define("subforms",["util"],function(c){return{template:'<div class="gno-sub-form">\n      <div v-for="(dat, index) in formdata" :key="index" class="gno-form-card">\n        <div class="gno-card-header">\n          <el-date-picker class="gno-date-picker" v-model="dat.date_on" type="date"\n            formart="yyyy-MM-dd" value-format="yyyy-MM-dd"\n            placeholder="\u65e5\u671f" size="mini"></el-date-picker>\n          <el-input v-model="dat.title" size="mini" class="gno-card-title"></el-input>\n          <el-button class="gno-btn-close" type="text" @click="_onCloseForm(index)">\n            <i class="el-icon-close"></i>\n          </el-button>\n        </div>\n\n        <div v-for="(item, i) in dat.items" :key="i" class="clearfix">\n          <el-autocomplete size="mini" v-model="item.k" class="el-col el-col-10"\n              @select="_onTypeSelect" value-key="name"\n              :fetch-suggestions="querySearch" placeholder="\u6570\u636e\u540d\u79f0"></el-autocomplete>\n\n          <div class="el-col el-col-14">\n            <el-input class="input-with-select" size="mini" v-model="item.v"\n              @keyup.native="_onInputValueChanged($event, index, i)">\n            </el-input>\n          </div>\n        </div>\n\n      </div>\n\n      <el-button class="button-new-tag parent-p" size="small" @click="_clickAddForm($event)">\n        <i class="el-icon-plus"></i>\n      </el-button>\n    </div>',props:{formdata:Array,
formfields:Array},watch:{formdata:function(h){if(h&&0!=h.length)for(var g=0;g<h.length;g++)h[g].date_on=c.date2str(h[g].date_on,"date")}},methods:{getData:function(){for(var c=[],g=0;g<this.formdata.length;g++){for(var a=this.formdata[g],b={date_on:a.date_on,title:a.title,items:[]},e=0;e<a.items.length;e++){var d=a.items[e];d.v&&d.k&&b.items.push(d)}c.push(b)}return c},_onCloseForm:function(c){this.formdata.splice(c,1)},_clickAddForm:function(){this.formdata.push({items:[{}]})},_onTypeSelect:function(c){console.log(c)},
createFilter:function(c){return function(g){return 0===g.name.toLowerCase().indexOf(c.toLowerCase())}},querySearch:function(c,g){c=c?this.formfields.filter(this.createFilter(c)):this.formfields;g(c)},_onInputValueChanged:function(c,g,a){c=c.target?c.target.value:c;var b=this.formdata[g].items;c&&0<b.length&&b[b.length-1].v&&this.formdata[g].items.push({});!c&&1<b.length&&this.formdata[g].items.splice(a,1)}}}});
define("areas",["util"],function(c){return{template:'<template>\n      <el-select v-model="area" filterable placeholder="\u8bf7\u9009\u62e9" multiple @change="_onChange($event)">\n        <el-option v-for="a in areas" :key="a.id"\n          :label="a.cn + \' \' + a.en" :value="a.id">\n          {{ a.cn }}\n        </el-option>\n      </el-select>\n    </template>',props:{areas:Array,area:Array},data:function(){return{areas:[]}},model:{props:"area",event:"cc"},methods:{fullData:function(){if(!this.area||
0==this.area.length)return null;for(var h=Array(this.area.length),g=0;g<this.area.length;g++){var a=c.findSortedI("id",this.area[g],this.areas);0>a||(h[g]=this.areas[a])}return h},_onChange:function(c){this.$emit("cc",c)}}}});
define("contents",[],function(){return{template:'<div class="gno-textarea">\n      <div class="content-langs">\n        <span v-for="(item, index) in formdata" :class="{\'current-pane\': index==currentPaneI}" @click="_onLangClick(index)">{{item.lang}}</span>\n      </div>\n      <div v-for="(item, index) in formdata" v-show="currentPaneI==index">\n        <el-input v-model="item.title" placeholder="\u8f93\u5165\u9898\u76ee" class="gno-title"></el-input>\n        <el-input v-model="item.text" ref="text" type="textarea" :autosize="{ minRows: 6}"\n            class="border w100 font-size-lg" placeholder="markdown"></el-input>\n      </div>\n    </div>',props:{formdata:Array},
data:function(){return{currentPaneI:0}},watch:{formdata:function(c){for(var h=!1,g=0;g<c.length;g++)"en"==c[g].lang&&(h=!0);h||c.push({title:"",text:"",lang:"en"})}},methods:{_onLangClick:function(c){this.currentPaneI=c},getData:function(){return this.formdata}}}});require.config({paths:{areas:MYENV+"/mylib/vue/comp/vue-areas",tags:MYENV+"/mylib/vue/comp/vue-tags",contents:MYENV+"/mylib/vue/comp/vue-contents",subforms:MYENV+"/mylib/vue/comp/vue-subforms"}});
define("notepad","util ajax compressor tags subforms areas contents".split(" "),function(c,h,g,a,b,e,d){return{template:'<div class="gno-notepad p-a">\n        <div class="gno-dtypes m-b">\n          <el-radio-group v-model="itype" size="small">\n            <el-radio-button :label="0">\u89c2\u70b9</el-radio-button>\n            <el-radio-button :label="5">\u4e8b\u4ef6</el-radio-button>\n            <el-radio-button :label="6">\u4e8b\u7269</el-radio-button>\n            <el-radio-button :label="7">\u4eba\u7269</el-radio-button>\n          </el-radio-group>\n        </div>\n\n        <div class="gno-top-form clearfix">\n\n          <el-upload class="avatar-uploader pull-left" action="upload" :class="{\'gno-avatar-success\': isAvatar}"\n            :show-file-list="false"\n            :http-request="_uploadA"\n            :before-upload="beforUpload">\n            <img v-if="isAvatar" :src="ojson.avatar.url" class="gno-avatar">\n            <i v-else class="el-icon-plus avatar-uploader-icon"></i>\n          </el-upload>\n\n          <el-form class="pull-left" ref="form" label-width="60px" size="mini">\n            <el-form-item label="\u65e5\u671f">\n              <el-date-picker v-model="date_on" type="date" placeholder="\u8f93\u5165\u65e5\u671f"\n                formart="yyyy-MM-dd" value-format="yyyy-MM-dd"></el-date-picker>\n            </el-form-item>\n            <el-form-item label="\u5730\u70b9">\n              <areas ref="area" :area="area" v-model="area" :areas="baseinfo.areas"></areas>\n            </el-form-item>\n          </el-form>\n\n        </div>\n\n        <contents ref="contents" :formdata="ojson.contents"></contents>\n\n        <el-upload ref="upload" class="gno-upload m-t"\n          list-type="picture-card"\n          :file-list="imageList"\n          :action="upload"\n          :on-preview="_onImagePreview"\n          :http-request="_uploadImg"\n          :on-success="_onImgSuccess"\n          :on-remove="_onImageRemove">\n          <i class="el-icon-plus"></i>\n        </el-upload>\n\n        <div class="gno-subforms">\n          <el-divider>\u6570\u636e</el-divider>\n          <subforms ref="subforms" :formdata="ojson.subforms" :formfields="baseinfo.formfields"></subforms>\n        </div>\n\n        <div class="gno-tags">\n          <el-divider>\u6807\u7b7e</el-divider>\n          <tags ref="tags" :tags="tags" :basetags="baseinfo.tags" v-model="tags"></tags>\n        </div>\n\n\n        <div class="gno-box text-right">\n          <hr class="line m-b-md"></hr>\n          <el-alert v-show="isSuccess" title="\u6210\u529f\u4fdd\u5b58\u6570\u636e" type="success" center show-icon :closable="false"></el-alert>\n          <el-alert v-show="isError" :title="errMessage" type="error" show-icon @close="clearError"></el-alert>\n          <hr v-show="isSuccess || isError" class="line m-b-md"></hr>\n\n          <button @click="_onClickSave" type="button" class="gno-btn-min-w el-button el-button--primary el-button--mini">\n            <i class="el-icon-check"></i>\n          </button>\n        </div>\n\n    </div>',
components:{contents:d,subforms:b,areas:e,tags:a},props:{upload:String,formdata:Object,baseinfo:Object},data:function(){return{isPageOK:!1,isSuccess:!1,isError:!1,errMessage:"",iid:0,itype:0,area:[],tags:[],imageList:[],date_on:"",ojson:{avatar:null,contents:[{title:"",text:"",lang:"zh"},{title:"",text:"",lang:"en"}],subforms:[],images:[]}}},watch:{formdata:function(a){var b=this;a&&(this.iid=a.iid,this.itype=parseInt(a.itype),this.area=a.area,this.tags=a.tags,this.date_on=c.date2str(a.date_on,"date"),
this.ojson=JSON.parse(a.o_json),this.imageList=this.ojson.images,this.isPageOK=a.iid?!0:!1,setTimeout(function(){b.rebuildImagesLinkBtn()},200))}},computed:{isNew:function(){return!this.formdata},isAvatar:function(){return this.ojson.avatar&&this.ojson.avatar.url}},methods:{_onImagePreview:function(a){var b=this.$refs.contents.$el.querySelector("textarea");a="blob:"==a.url.substr(0,5)?a.response:a.url;b.value=b.value.substring(0,b.selectionStart)+"\n![]("+a+")\n"+b.value.substr(b.selectionStart);
this.ojson.contents[this.$refs.contents.currentPaneI].text=b.value},_onImageRemove:function(a,b){console.log(a,b);a=c.findIndex("name",a.name,this.imageList);0>a||this.imageList.splice(a,1)},_onImgSuccess:function(a,b){var c=this;b.name=a[0];b.response=a[1];setTimeout(function(){c.rebuildImagesLinkBtn()},200)},rebuildImagesLinkBtn:function(){c.$.each(this.$refs.upload.$el.querySelectorAll("i.el-icon-zoom-in"),function(a){a.className="el-icon-link"})},beforUpload:function(a){return"image/jpeg"!==a.type&&
"image/png"!==a.type?(this.$message.error("\u4e0a\u4f20\u56fe\u7247\u53ea\u80fd\u662f JPG,PNG \u683c\u5f0f!"),!1):2<a.size/1024/1024?(this.$message.error("\u4e0a\u4f20\u5934\u50cf\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 2MB!"),!1):!0},_uploadA:function(a){this.doUpload(a,0)},_uploadImg:function(a){this.doUpload(a,1)},doUpload:function(a,b){var c=this;new g(a.file,{quality:.5,maxWidth:1920,maxHeight:1920,success:function(d){h.NewUpload(c.upload).upload(d,{onProgress:a.onProgress}).then(function(e){e=
e.split(",");b?c.ojson.images.push({name:e[0],url:e[1]}):c.ojson.avatar={name:e[0],url:e[1]};a.onSuccess(e,d)})},error:function(b){a.onError(b)}})},clearError:function(){this.isError=!1;this.errMessage=""},setError:function(a){this.isError=!0;this.errMessage=a},_onClickSave:function(a){var b=this;a=c.copy(this.ojson);var e=this.$refs.tags.confirm();a.subforms=this.$refs.subforms.getData();a.contents=this.$refs.contents.getData();a.avatar||(a.avatar={name:"",url:""});if(a.contents[0].title){var d=
{iid:this.iid,o_json:a,tags:e,itype:this.itype,area:this.area,date_on:this.date_on};d.date_on&&(d.date_on=c.str2date(d.date_on));a.area=this.$refs.area.fullData();var f=this;h.NewClient("/api/app").send("SaveSElem",d,{loading:!0}).then(function(a){b.$emit("onSaved",d);b.isSuccess=!0;b.clearError();setTimeout(function(){f.isSuccess=!1;f.$emit("onsaved",a)},1E3)}).catch(function(a){b.isError=!0;b.errMessage=a.toString()})}else this.setError("\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a")}}}});
define("preparecookie",["ajax","util","accto"],function(c,h,g){var a=[],b=new Date;b.setTime(b.getTime()+2592E6);b="; expires="+b.toUTCString();var e=window.localStorage.getItem("_uiid");e||(c=c.serverTime.utctime().toString(),e=g(c+navigator.userAgent+c+(window.accpt?window.accpt:"")+window.location.hostname),window.localStorage.setItem("_uiid",e),a.push("_uiid="+e+b+"; path=/"));(g=window.localStorage.getItem("_nick"))&&!h.hasCookie("_nick")&&(window.localStorage.getItem("_token"),a.push("_nick="+
g+b+"; path=/"));(g=window.localStorage.getItem("_token"))&&!h.hasCookie("_token")?(h=window.localStorage.getItem("_token"),a.push("_token="+h+b+"; path=/")):!g&&h.hasCookie("_token")&&(g=h.getCookie("_token"),window.localStorage.setItem("_token",g));for(h=0;h<a.length;h++)document.cookie=a[h];return{}});require.config(requireOpt);require.config({paths:{notepad:MYENV+"/mylib/vue/notepad"}});
require(["ajax","util","notepad","preparecookie"],function(c,h,g){new Vue({el:"#main-div",components:{notepad:g},data:{isPageOK:!1,formdata:null,baseinfo:{fields:[],areas:[]}},methods:{_onSaved:function(a){window.location="/cell/view/"+a}},mounted:function(){var a=this,b=h.getRouterParam(0),e=this;c.NewClient("/api/info").getData("Base").then(function(d){d.tags=c.torows(d.tags);a.baseinfo=d;"new"==b?e.isPageOK=!0:c.NewClient("/api/app").send("LoadSElem",{iid:b},{busy:e.$el}).then(function(a){e.isPageOK=
!0;e.formdata=a},function(a){h.tool.pageErr("\u9519\u8bef",a.toString())})})}})});define("page/home/Cell",function(){});
