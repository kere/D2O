var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,n,g){m!=Array.prototype&&m!=Object.prototype&&(m[n]=g.value)};$jscomp.getGlobal=function(m){return"undefined"!=typeof window&&window===m?m:"undefined"!=typeof global&&null!=global?global:m};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var m=0;return function(n){return $jscomp.SYMBOL_PREFIX+(n||"")+m++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(m){var n=0;return $jscomp.iteratorPrototype(function(){return n<m.length?{done:!1,value:m[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};$jscomp.makeIterator=function(m){$jscomp.initSymbolIterator();var n=m[Symbol.iterator];return n?n.call(m):$jscomp.arrayIterator(m)};
$jscomp.polyfill=function(m,n,g,a){if(n){g=$jscomp.global;m=m.split(".");for(a=0;a<m.length-1;a++){var b=m[a];b in g||(g[b]={});g=g[b]}m=m[m.length-1];a=g[m];n=n(a);n!=a&&null!=n&&$jscomp.defineProperty(g,m,{configurable:!0,writable:!0,value:n})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(m){function n(){this.batch_=null}function g(a){return a instanceof b?a:new b(function(b,c){b(a)})}if(m&&!$jscomp.FORCE_POLYFILL_PROMISE)return m;n.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};n.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var a=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(b){a(b,
0)};n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var d=a[b];delete a[b];try{d()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};n.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var b=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(e){b.reject(e)}};b.prototype.createResolveAndReject_=
function(){function a(a){return function(c){d||(d=!0,a.call(b,c))}}var b=this,d=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(e){this.reject_(e);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var d=new n;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var d=this.createResolveAndReject_();try{a.call(b,d.resolve,d.reject)}catch(p){d.reject(p)}};b.prototype.then=function(a,d){function c(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(h){g(h)}}:b}var f,g,m=new b(function(a,
b){f=a;g=b});this.callWhenSettled_(c(a,f),c(d,g));return m};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function c(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?d.asyncExecute(c):this.onSettledCallbacks_.push(function(){d.asyncExecute(c)})};b.resolve=g;b.reject=function(a){return new b(function(b,d){d(a)})};b.race=function(a){return new b(function(b,
d){for(var c=$jscomp.makeIterator(a),f=c.next();!f.done;f=c.next())g(f.value).callWhenSettled_(b,d)})};b.all=function(a){var d=$jscomp.makeIterator(a),c=d.next();return c.done?g([]):new b(function(a,b){function f(b){return function(d){e[b]=d;q--;0==q&&a(e)}}var e=[],q=0;do e.push(void 0),q++,g(c.value).callWhenSettled_(f(e.length-1),b),c=d.next();while(!c.done)})};return b},"es6","es3");
define("util",[],function(){function m(a,b,d,c,f){if(d==c)return b[d]==a?d:-1;if(d>c)return-1;var e=d+Math.floor((c-d+1)/2),g=b[e];return g==a?e:g>a?f?m(a,b,e+1,c):m(a,b,d,e-1):f?m(a,b,d,e-1):m(a,b,e+1,c)}function n(a,b,d,c,f,g){if(c==f)return d[c][a]==b?c:-1;if(c>f)return-1;var e=c+Math.floor((f-c+1)/2);var m=d[e][a];return m==b?e:m>b?g?n(a,b,d,e+1,f):n(a,b,d,c,e-1):g?n(a,b,d,c,e-1):n(a,b,d,e+1,f)}var g={DATE_DAY:864E5,DATE_HOUR:36E5,env:function(){var a={},b=navigator.userAgent.toLowerCase();/android/.test(b)?
a.os="android":/iphone|ipod|ipad|ios/.test(b)?a.os="ios":/windows/.test(b)&&(a.os="windows");a.iswxwork=/wxwork/.test(b);a.inwx=/micromessenger/.test(b);return a},language:function(){var a=this.getCookie("lang");a||(a=navigator.language||navigator.userLanguage);return a.replace("_","-").toLowerCase()},getRouterParam:function(a){var b=window.location.pathname.split("/");a=b.length-1-a;return 0>a?null:b[a]},num2str:function(a,b){if(!a)return"";"string"==typeof a&&(a=parseFloat(a));var d=!1;if(0>b){var c=
a.toString();d=a.toString().split(".");if(1==d.length)return c;b=-b;d=!0}else if(0==b)return a.toFixed(b);c=Math.pow(10,b);a=(Math.round(a*c)/c).toFixed(b);if(!d)return a;b=a.length;d=Array(b);for(c=0;c<b;c++)d[c]=a[c];for(a=b-1;-1<a&&"0"==d[a];a--)d.pop();return d.join("")},timeAgoStr:function(a,b,d){d||(d=2);a=this.timeAgo(a,b);b="";var c=!0,f,e=0;for(f=a.length-1;-1<f;f--)if(!c||0!=a[f].value)if(c=!1,b+=a[f].value+a[f].label+" ",e++,e==d)break;return b},timeAgo:function(a,b){a="number"==typeof a&&
"undefined"==typeof b?a:Math.abs(b.getTime()-a.getTime());b=[];for(var d=0;6>d;d++){switch(d){case 0:var c=a%6E4;b.push({value:Math.floor(c/1E3),label:"\u79d2",ext:"s"});a=Math.floor(a/6E4);break;case 1:c=a%60;b.push({value:c,label:"\u5206",ext:"m"});a=Math.floor(a/60);break;case 2:c=a%24;b.push({value:c,label:"\u5c0f\u65f6",ext:"h"});a=Math.floor(a/24);break;case 3:c=a%30;b.push({value:c,label:"\u5929",ext:"d"});a=Math.floor(a/30);break;case 4:c=a%12;b.push({value:c,label:"\u6708",ext:"n"});a=Math.floor(a/
12);break;case 5:b.push({value:c,label:"\u5e74",ext:"y"})}if(0>Math.floor(a))break}return b},str2date:function(a){if(a){if("string"!=typeof a)return a;a=a.replace(/[A-Za-z\u65e5]/g," ").substr(0,19);a=a.replace(/[\u5e74\u6708]/g,"-");var b=new Date(Date.parse(a));return!b||isNaN(b.getFullYear())?(a=a.replace(/[-]/g,"/"),new Date(Date.parse(a))):b}},date2str:function(a,b){if(!a)return"";b=b?b:"date";switch(typeof a){case "number":a=new Date(a);break;case "string":a=this.str2date(a)}switch(b){case "date":return a.getFullYear()+
"-"+this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2);case "date2":return this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2);case "dateCH":return a.getFullYear()+"\u5e74"+this.lpad(a.getMonth()+1,"0",2)+"\u6708"+this.lpad(a.getDate(),"0",2)+"\u65e5";case "date2CH":return this.lpad(a.getMonth()+1,"0",2)+"\u6708"+this.lpad(a.getDate(),"0",2)+"\u65e5";case "datetime":return a.getFullYear()+"-"+this.lpad(a.getMonth()+1,"0",2)+"-"+this.lpad(a.getDate(),"0",2)+" "+this.lpad(a.getHours(),
"0",2)+":"+this.lpad(a.getMinutes(),"0",2);case "time":return this.lpad(a.getHours(),"0",2)+":"+this.lpad(a.getMinutes(),"0",2)}return"unknow"},lpad:function(a,b,d){for("string"!=typeof a&&(a=a.toString());a.toString().length<d;)a=b+a;return a},rpad:function(a,b,d){for("string"!=typeof a&&(a=a.toString());a.toString().length<d;)a+=b;return a},tisvo:function(a){a=window.atob(a);for(var b=a.length,d="",c=0;c<b;c++)d+=String.fromCharCode(a.charCodeAt(c)^(c%7<<4)+c%15);return window.atob(d)},find:function(a,
b,d){if(!d)return null;var c,f=d.length;for(c=0;c<f;c++)if(d[c]&&d[c][a]==b)return d[c];return null},indexOfSortedI:function(a,b){if(!b)return-1;var d=!1;1<b.length&&(d=b[0]>b[1]);return m(a,b,0,b.length-1,d)},findSortedI:function(a,b,d){if(!d)return-1;var c=!1;1<d.length&&(c=d[0][a]>d[1][a]);return n(a,b,d,0,d.length-1,c)},findSorted:function(a,b,d){if(!d)return null;var c=!1;1<d.length&&(c=d[0][a]>d[1][a]);a=n(a,b,d,0,d.length-1,c);return 0>a?null:d[a]},findIndex:function(a,b,d){if(!d)return-1;
var c,f=d.length;for(c=0;c<f;c++)if(d[c]&&d[c][a]==b)return c;return-1},arrMix:function(a,b,d){for(var c=[],f=0;f<b.length;f++)for(var e=0;e<a.length;e++)-1===c.indexOf(e)&&d(e,f)&&c.push(e)},inArray:function(a,b){for(var d in b)if(b[d]==a)return!0;return!1},setCookie:function(a,b,d){var c="";d&&(c=new Date,c.setTime(c.getTime()+864E5*d),c="; expires="+c.toGMTString());document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+c+"; path=/"},hasCookie:function(a){return(new RegExp("(?:^|;\\s*)"+
encodeURIComponent(a).replace(/[-.+*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},getCookie:function(a){a+="=";for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return b=c.substring(a.length,c.length),'"'==b[0]?b.substring(1,b.length-1):c.substring(a.length,c.length)}return""},deleteCookie:function(a){g.SetCookie(a,"",-1)},copy:function(a){var b={};"object"==typeof a&&a.hasOwnProperty("length")&&(b=Array(a.length));
for(var d in a)a.hasOwnProperty(d)&&"__"!=d.substr(0,2)&&(b[d]=null==a[d]?null:"object"==typeof a[d]?g.copy(a[d]):a[d]);return b},dasit:function(a){a=window.btoa(a);for(var b=a.length,d="",c=0;c<b;c++)d+=String.fromCharCode(a.charCodeAt(c)^(c%7<<4)+c%15);return window.btoa(d)},$:{get:function(a){return"string"===typeof a?document.querySelector(a):a},getAll:function(a){return"string"===typeof a?document.querySelectorAll(a):a.length?a:[a]},each:function(a,b){a=this.getAll(a);if(0<a.length)for(var d=
0;d<a.length;d++)b(a[d],d);else return b(a,-1)},addClass:function(a,b){var d=this;this.each(a,function(a){d.hasClass(a,b)||(a.className=0==a.className.length?b:a.className+(" "+b))})},hasClass:function(a,b){var d=!1;this.each(a,function(a){if(!a.className)return!1;a=a.className.split(" ");for(var c=0;c<a.length;c++)if(a[c]==b){d=!0;break}});return d},removeClass:function(a,b){this.each(a,function(a){if(a.className){for(var d=a.className.split(" "),f=0;f<d.length;f++)d[f]==b&&d.splice(f,1);a.className=
d.join(" ")}})},show:function(a){if(this.hasClass(a,"hide")&&(this.removeClass(a,"hide"),this.hasClass(a,"fade"))){var b=this;setTimeout(function(){b.addClass(a,"in")},50)}"none"==a.style.display&&(a.style.display="")},hide:function(a){if(this.hasClass(a,"fade")){this.removeClass(a,"in");var b=this;setTimeout(function(){b.addClass(a,"hide")},200)}else this.addClass(a,"hide")}},tool:{pageErr:function(a,b){g.$.each(document.body.children,function(a){"SCRIPT"!=a.tagName&&(a.hidden=!0)});var d=document.createElement("DIV");
d.id="pageError";d.className="page-not-found-div";d.innerHTML="<h1>"+a+"</h1><h5>"+b+"</h5>";document.body.appendChild(d);a=document.createElement("style");a.type="text/css";a.innerHTML='html,body{height: 100%;margin: 0;padding: 0}\n.page-not-found-div{line-height:4rem;text-align: center;margin: 0 auto;position: absolute;top: 36%;width: 100%}\n.page-not-found-div h1{font-size: 82px}.page-not-found-div h5{font-weight: 200;font-size: 26px;}\nbody{font-family: "Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","\u5fae\u8f6f\u96c5\u9ed1",Arial,sans-serif; color: #343434; }';
document.getElementsByTagName("HEAD").item(0).appendChild(a)},showLoading:function(a){this.loading(0,a)},showSuccess:function(a){this.loading(1,a)},loading:function(a,b){var d=g.$.get("#toast");d||(d=document.createElement("DIV"),d.id="toast",d.className="weui-toast hide",d.innerHTML='<div class="weui-mask"></div><div class="weui-toast">\n  <i class="toast-success weui-icon-success-no-circle weui-icon_toast hide"></i>\n  <p class="toast-success weui-toast__content hide">\u5df2\u5b8c\u6210</p>\n  <i class="toast-loading weui-loading weui-icon_toast hide"></i>\n  <p class="toast-loading weui-toast__content hide">\u6570\u636e\u52a0\u8f7d\u4e2d</p>\n</div>',
document.body.appendChild(d));g.$.show(d);a?(g.$.each(d.querySelector(".toast-loading"),function(a){g.$.hide(a)}),g.$.each(d.querySelector(".toast-success"),function(a){g.$.show(a)})):(g.$.each(d.querySelector(".toast-success"),function(a){g.$.hide(a)}),g.$.each(d.querySelector(".toast-loading"),function(a){g.$.show(a)}));setTimeout(function(){1==a?g.$.each(d.querySelector(".toast-success"),function(a){g.$.hide(a)}):g.$.each(d.querySelector(".toast-loading"),function(a){g.$.hide(a)});g.$.hide(d)},
1E3*(b||1))},hideToast:function(){var a=g.$.get("#toast");g.$.each(a.querySelector(".toast-success"),function(a){g.$.hide(a)});g.$.each(a.querySelector(".toast-loading"),function(a){g.$.hide(a)});g.$.hide(a)},showBusy:function(a,b){a=g.$.get(a);var d=a.querySelector("div.el-loading-mask");d||(d=document.createElement("DIV"),d.className="el-loading-mask",d.innerHTML='<div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg></div>',
a.appendChild(d));g.$.show(d);setTimeout(function(){g.$.hide(d)},1E3*(b||3))},hideBusy:function(a){a=g.$.get(a);(a=a.querySelector("div.el-loading-mask"))&&g.$.hide(a)},viewImage:function(a){var b=g.$.get("#viewImage");b||(b=document.createElement("DIV"),b.id="viewImage",b.className="fade hide",b.innerHTML='<div style="z-index:1000;position:fixed;width:100%;height:100%;top:0;left:0;text-align:center;top:0;left:0;"><div style="width:100%;height:100%;background: #000;opacity: 0.6;" class="view-image fade in"></div><img src="" style="z-index:1001;max-width:98%;max-height:98%;transform: translate(-50%, -50%);top:50%;position:absolute;"></div>',
document.body.appendChild(b),b.addEventListener("click",function(a){g.$.hide(b)}));b.querySelector("img").src=a;g.$.show(b)},taggle:function(a){var b=a.currentTarget;a.currentTarget?g.$.hasClass(b,"parent-pp")?b=b.parentElement.parentElement:g.$.hasClass(b,"parent-p")&&(b=b.parentElement):b=a;a=b.nextElementSibling;if(g.$.hasClass(b,"open"))return g.$.hide(a),g.$.removeClass(b,"open"),!1;g.$.show(a);g.$.addClass(b,"open");return!0}}};window.closePageLoad&&window.closePageLoad();return g});
(function(m){function n(a,b){var d=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(d>>16)<<16|d&65535}function g(a,b,d,c,f,l){a=n(n(b,a),n(c,l));return n(a<<f|a>>>32-f,d)}function a(a,b,d,c,f,l,e){return g(b&d|~b&c,a,b,f,l,e)}function b(a,b,d,c,f,e,m){return g(b&c|d&~c,a,b,f,e,m)}function d(a,b,d,c,f,e,m){return g(d^(b|~c),a,b,f,e,m)}function c(c,f){c[f>>5]|=128<<f%32;c[(f+64>>>9<<4)+14]=f;var h=1732584193,k=-271733879,e=-1732584194,l=271733878;for(f=0;f<c.length;f+=16){var m=h;var p=k;var q=e;var t=l;
h=a(h,k,e,l,c[f],7,-680876936);l=a(l,h,k,e,c[f+1],12,-389564586);e=a(e,l,h,k,c[f+2],17,606105819);k=a(k,e,l,h,c[f+3],22,-1044525330);h=a(h,k,e,l,c[f+4],7,-176418897);l=a(l,h,k,e,c[f+5],12,1200080426);e=a(e,l,h,k,c[f+6],17,-1473231341);k=a(k,e,l,h,c[f+7],22,-45705983);h=a(h,k,e,l,c[f+8],7,1770035416);l=a(l,h,k,e,c[f+9],12,-1958414417);e=a(e,l,h,k,c[f+10],17,-42063);k=a(k,e,l,h,c[f+11],22,-1990404162);h=a(h,k,e,l,c[f+12],7,1804603682);l=a(l,h,k,e,c[f+13],12,-40341101);e=a(e,l,h,k,c[f+14],17,-1502002290);
k=a(k,e,l,h,c[f+15],22,1236535329);h=b(h,k,e,l,c[f+1],5,-165796510);l=b(l,h,k,e,c[f+6],9,-1069501632);e=b(e,l,h,k,c[f+11],14,643717713);k=b(k,e,l,h,c[f],20,-373897302);h=b(h,k,e,l,c[f+5],5,-701558691);l=b(l,h,k,e,c[f+10],9,38016083);e=b(e,l,h,k,c[f+15],14,-660478335);k=b(k,e,l,h,c[f+4],20,-405537848);h=b(h,k,e,l,c[f+9],5,568446438);l=b(l,h,k,e,c[f+14],9,-1019803690);e=b(e,l,h,k,c[f+3],14,-187363961);k=b(k,e,l,h,c[f+8],20,1163531501);h=b(h,k,e,l,c[f+13],5,-1444681467);l=b(l,h,k,e,c[f+2],9,-51403784);
e=b(e,l,h,k,c[f+7],14,1735328473);k=b(k,e,l,h,c[f+12],20,-1926607734);h=g(k^e^l,h,k,c[f+5],4,-378558);l=g(h^k^e,l,h,c[f+8],11,-2022574463);e=g(l^h^k,e,l,c[f+11],16,1839030562);k=g(e^l^h,k,e,c[f+14],23,-35309556);h=g(k^e^l,h,k,c[f+1],4,-1530992060);l=g(h^k^e,l,h,c[f+4],11,1272893353);e=g(l^h^k,e,l,c[f+7],16,-155497632);k=g(e^l^h,k,e,c[f+10],23,-1094730640);h=g(k^e^l,h,k,c[f+13],4,681279174);l=g(h^k^e,l,h,c[f],11,-358537222);e=g(l^h^k,e,l,c[f+3],16,-722521979);k=g(e^l^h,k,e,c[f+6],23,76029189);h=g(k^
e^l,h,k,c[f+9],4,-640364487);l=g(h^k^e,l,h,c[f+12],11,-421815835);e=g(l^h^k,e,l,c[f+15],16,530742520);k=g(e^l^h,k,e,c[f+2],23,-995338651);h=d(h,k,e,l,c[f],6,-198630844);l=d(l,h,k,e,c[f+7],10,1126891415);e=d(e,l,h,k,c[f+14],15,-1416354905);k=d(k,e,l,h,c[f+5],21,-57434055);h=d(h,k,e,l,c[f+12],6,1700485571);l=d(l,h,k,e,c[f+3],10,-1894986606);e=d(e,l,h,k,c[f+10],15,-1051523);k=d(k,e,l,h,c[f+1],21,-2054922799);h=d(h,k,e,l,c[f+8],6,1873313359);l=d(l,h,k,e,c[f+15],10,-30611744);e=d(e,l,h,k,c[f+6],15,-1560198380);
k=d(k,e,l,h,c[f+13],21,1309151649);h=d(h,k,e,l,c[f+4],6,-145523070);l=d(l,h,k,e,c[f+11],10,-1120210379);e=d(e,l,h,k,c[f+2],15,718787259);k=d(k,e,l,h,c[f+9],21,-343485551);h=n(h,m);k=n(k,p);e=n(e,q);l=n(l,t)}return[h,k,e,l]}function f(a){var b,c="",f=32*a.length;for(b=0;b<f;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function e(a){var b,c=[];c[(a.length>>2)-1]=void 0;for(b=0;b<c.length;b+=1)c[b]=0;var f=8*a.length;for(b=0;b<f;b+=8)c[b>>5]|=(a.charCodeAt(b/8)&255)<<b%32;return c}function p(a){return f(c(e(a),
8*a.length))}function u(a,b){var d=e(a),k=[],g=[];k[15]=g[15]=void 0;16<d.length&&(d=c(d,8*a.length));for(a=0;16>a;a+=1)k[a]=d[a]^909522486,g[a]=d[a]^1549556828;b=c(k.concat(e(b)),512+8*b.length);return f(c(g.concat(b),640))}function v(a){var b="",c;for(c=0;c<a.length;c+=1){var f=a.charCodeAt(c);b+="0123456789abcdef".charAt(f>>>4&15)+"0123456789abcdef".charAt(f&15)}return b}function r(a,b,c){b?c?a=u(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):(a=u(unescape(encodeURIComponent(b)),
unescape(encodeURIComponent(a))),a=v(a)):a=c?p(unescape(encodeURIComponent(a))):v(p(unescape(encodeURIComponent(a))));return a}"function"===typeof define&&define.amd?define("accto",[],function(){return r}):"object"===typeof module&&module.exports?module.exports=r:m.accto=r})(this);
define("ajax",["util","accto"],function(m,n){function g(a){var b=new XMLHttpRequest;b.open("post",a.url,a.async);b.timeout=1E3*a.timeout;b.setRequestHeader("Content-Type","application/json;charset=UTF-8");for(var c in a.headers)b.setRequestHeader(c,a.headers[c]);c=new Promise(function(a,c){b.onload=function(f){200==b.status?a(b.response):c(b.response,b.status)};b.onerror=function(a){c(b)};b.ontimeout=function(){c("timeout")}});a.data?b.send(JSON.stringify(a.data)):b.send();return c}var a={url:"/home/openapi/data",
NewClient:function(a,c){return new b(a,c)},NewUpload:function(a){return new d(a)},DataSet:function(a){this.Fields=a.fields;this.Columns=a.columns;this.Len=function(){return 0==this.Columns.length?0:this.Columns[0].length};this.FieldI=function(a){return this.Fields.indexOf(a)};this.RowAt=function(a){this.Len();for(var b={},c=0;c<this.Fields.length;c++)b[this.Fields[c]]=this.Columns[c][a];return b}},torows:function(a,b){var c=a.fields.length;if(!a||!a.columns||0==a.columns.length||0===c)return[];var d=
a.columns,f=d[0].length;if(0===f)return[];var e=Array(f),g,m=a.fields;for(a=0;a<f;a++){var h={};for(g=0;g<c;g++){var k=m[g];h[k]=b?b(g,a):d[g][a]}e[a]=h}return e},serverTime:{diff:0,set:function(a){this.diff=0<a?(new Date).getTime()-1E3*a:0},now:function(){return new Date(this.time())},time:function(){return(new Date).getTime()-this.diff},utctime:function(){var a=this.now();return a.getTime()-a.getTimezoneOffset()}},getUrlVar:function(a){for(var b=window.location.search.substring(1).split("&"),c=
0;c<b.length;c++){var d=b[c].split("=");if(d[0]==a)return decodeURI(d[1])}return null}},b=function(b){this.path=b||a.url;this.isrun=!1;this.timeout=10;this.async=!0;this.pfield="accpt";this.verField="_data_version"};b.prototype.trySetDataVer=function(a){"object"==typeof a&&a[this.verField]&&(a=a[this.verField],this[this.verField]=a,window[this.verField]=a)};b.prototype.getData=function(a,b,c){var d=this;return new Promise(function(f,e){var g=a+(b?JSON.stringify(b):""),m=function(f,e){d.send(a,b,c).then(function(a){a[d.verField]&&
window.localStorage.setItem(g,JSON.stringify(a));f(a)}).catch(function(a){e(a)})};if(window.localStorage){var h=window.localStorage.getItem(g);h?(h=JSON.parse(h))?(c=c||{ver:window[d.verField]},h[d.verField]!=c.ver?m(f,e):f(h)):m(f,e):m(f,e)}else m(f,e)})};b.prototype.sendEx=function(a,b,c){if(!this.isrun)return this.send(a,b,c)};b.prototype.send=function(b,c,d){var f=this,e=this;this.isrun=!0;d=d||{};d.loading&&m.tool.showLoading(this.timeout);d.disable&&m.$.each(d.disable,function(a){a.setAttribute("disabled",
!0)});d.busy&&m.$.each(d.busy,function(a){m.tool.showBusy(a,f.timeout)});var p=d.ts?d.ts:a.serverTime.utctime().toString(),q=window[this.pfield]||"",t=b+p+(c?JSON.stringify(c):"")+navigator.userAgent+p+q+window.location.hostname;return g({async:this.async,url:this.path+"/"+b,data:c,headers:{Accto:n(t),Accts:p,AccPage:q,Api:b},timeout:1E3*this.timeout}).then(function(a){e.isrun=!1;d.loading&&m.tool.hideToast();d.disable&&m.$.each(d.disable,function(a){a.removeAttribute("disabled")});d.busy&&m.$.each(d.busy,
function(a){m.tool.hideBusy(a)});if(""==a)return null;"string"==typeof a&&(a=JSON.parse(a));e.trySetDataVer(a);return a}).catch(function(a,b){e.isrun=!1;d.loading&&m.tool.hideToast();d.disable&&m.$.each(d.disable,function(a){a.removeAttribute("disabled")});d.busy&&m.$.each(d.busy,function(a){m.tool.hideBusy(a)});return Promise.reject(a)})};var d=function(a){this.path=a;this.pfield="accpt";this.verField="_data_version"};d.prototype.upload=function(b,c){var d=new XMLHttpRequest,f=a.serverTime.utctime().toString(),
e=window[this.pfield]||"";d.open("POST",this.path,!0);d.setRequestHeader("Accto",n(f+b.name+b.size+b.lastModified+b.type+navigator.userAgent+f+e+window.location.hostname));d.setRequestHeader("Accts",f);d.setRequestHeader("AccPage",e);f=new Promise(function(a,f){d.onload=function(e){if(200>d.status||300<=d.status)return f(e);a(e.currentTarget.responseText);if(c&&c.onSuccess)c.onSuccess(e.currentTarget.responseText,b)};d.onerror=function(a){f(a)}});c&&c.onProgress&&(d.upload.onprogress=function(a){0<
a.total&&(a.percent=a.loaded/a.total*100);c.onProgress(a,b)});e=new FormData;e.append("filename",c&&c.filename?c.filename:"");e.append("file",b);e.append("name",b.name);e.append("size",b.size);e.append("lastModified",b.lastModified);e.append("type",b.type);d.send(e);return f};var c=function(a){this.path=a};c.prototype.onclose=function(a){if(!this.ws)return!1;ws.close()};c.prototype.onopen=function(a){console.log("open")};c.prototype.receive=function(a,b,c){};c.prototype.error=function(a,b){console.log(a)};
c.prototype.path="";c.prototype.Connect=function(){this.conn&&(this.conn.close(),this.conn=null);var a=this,b=n(navigator.userAgent+window.location.host);b=new WebSocket("ws://"+window.location.host+this.path+"?url="+encodeURI(document.location.pathname)+"&sign="+b);b.onopen=this.onopen;b.onclose=this.onclose;b.onmessage=function(b){var c=JSON.parse(b.data);c.iserror?a.error(c.error,b):c.method&&a.receive(c.method,c.args,c.result)};this.conn=b};c.prototype.Send=function(a,b){1==this.conn.readyState&&
this.conn.send(JSON.stringify({method:a,args:b}))};a.NewWS=function(a){return new c(a)};return a});
define("preparecookie",["ajax","util","accto"],function(m,n,g){var a=[],b=new Date;b.setTime(b.getTime()+2592E6);b="; expires="+b.toUTCString();var d=window.localStorage.getItem("_uiid");d||(m=m.serverTime.utctime().toString(),d=g(m+navigator.userAgent+m+(window.accpt?window.accpt:"")+window.location.hostname),window.localStorage.setItem("_uiid",d),a.push("_uiid="+d+b+"; path=/"));(g=window.localStorage.getItem("_nick"))&&!n.hasCookie("_nick")&&(window.localStorage.getItem("_token"),a.push("_nick="+
g+b+"; path=/"));(g=window.localStorage.getItem("_token"))&&!n.hasCookie("_token")?(n=window.localStorage.getItem("_token"),a.push("_token="+n+b+"; path=/")):!g&&n.hasCookie("_token")&&(g=n.getCookie("_token"),window.localStorage.setItem("_token",g));for(n=0;n<a.length;n++)document.cookie=a[n];return{}});require.config(requireOpt);
require(["ajax","util","accto","preparecookie"],function(m,n,g){function a(){var a=m.serverTime.utctime().toString(),f=document.getElementById("txtNick").value,e=document.getElementById("txtPwd").value;e=g(a+g(e)+a+window.accpt+b+a);e={nick:f,src:n.dasit(e),sign:n.dasit(g(e+a))};d.send("DoUserLogin",e,{ts:a,busy:"#loginDiv"}).then(function(a){a.value&&window.localStorage.setItem("_nick",f);if(a=m.getUrlVar("url"))window.location=decodeURIComponent(a)})}var b=window.localStorage.getItem("_uiid"),d=
m.NewClient("/api/info");document.getElementById("btnLogin").addEventListener("click",function(){a()});document.getElementById("txtPwd").addEventListener("keydown",function(b){13==b.keyCode&&a()})});define("page/home/Login",function(){});
